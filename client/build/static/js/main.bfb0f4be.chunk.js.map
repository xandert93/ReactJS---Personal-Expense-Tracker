{"version":3,"sources":["contexts/transactionsContext.js","components/AddTransaction.js","utils/format.js","components/Balance.js","components/Header.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","contexts/transactionsReducer.js","contexts/TransactionsProvider.js","App.js","index.js"],"names":["defaultState","isLoading","transactions","errMsg","transactionsContext","createContext","AddTransaction","addTransaction","useContext","emptyStr","useState","description","setDescription","amount","setAmount","onSubmit","e","preventDefault","trim","alert","newTransaction","id","Math","floor","random","className","value","onChange","target","placeholder","type","step","numberWithCommas","x","toString","replace","Balance","total","map","transaction","reduce","acca","toFixed","Header","children","IncomeExpenses","amounts","income","filter","incomeAmount","expense","expenseAmount","Transaction","deleteTransaction","_id","sign","abs","onClick","TransactionList","getTransactions","useEffect","transactionsReducer","state","action","payload","TransactionsProvider","useReducer","dispatch","a","axios","get","res","data","response","error","delete","status","config","post","savedTransaction","Provider","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bfb0f4be.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst defaultState = {\r\n  isLoading: true,\r\n  transactions: [],\r\n  errMsg: '',\r\n};\r\n\r\nconst transactionsContext = createContext(defaultState);\r\n\r\nexport { transactionsContext };\r\n","import React, { useState, useContext } from 'react';\r\nimport { transactionsContext } from '../contexts/transactionsContext';\r\n\r\nconst AddTransaction = () => {\r\n  const { addTransaction } = useContext(transactionsContext);\r\n  let emptyStr = '';\r\n  const [description, setDescription] = useState(emptyStr);\r\n  const [amount, setAmount] = useState(emptyStr);\r\n\r\n  const submitTransaction = (e) => {\r\n    e.preventDefault();\r\n    if (description.trim() === emptyStr || amount.trim() === emptyStr) {\r\n      alert('Please detail your transaction');\r\n    } else {\r\n      const newTransaction = {\r\n        id: Math.floor(Math.random() * 1000000),\r\n        description,\r\n        amount: +amount,\r\n      };\r\n\r\n      addTransaction(newTransaction);\r\n      setDescription(emptyStr);\r\n      setAmount(emptyStr);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h3>Add new transaction</h3>\r\n      <form onSubmit={submitTransaction}>\r\n        <div className=\"form-control\">\r\n          <label>\r\n            Transaction:\r\n            <input\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              placeholder=\"Enter transaction description...\"\r\n            />\r\n          </label>\r\n        </div>\r\n        <div className=\"form-control\">\r\n          <label>\r\n            Amount:\r\n            <input\r\n              className={\r\n                amount === emptyStr\r\n                  ? null\r\n                  : amount[0] === '-'\r\n                  ? 'minus'\r\n                  : 'plus'\r\n              }\r\n              type=\"number\"\r\n              step=\".01\"\r\n              value={amount}\r\n              onChange={(e) => setAmount(e.target.value)}\r\n              placeholder=\"Enter amount...\"\r\n            />\r\n          </label>\r\n        </div>\r\n        <input type=\"submit\" className=\"btn\" value=\"Add transaction\" />\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddTransaction;\r\n","export function numberWithCommas(x) {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { transactionsContext } from '../contexts/transactionsContext';\r\nimport { numberWithCommas } from '../utils/format';\r\n\r\nconst Balance = () => {\r\n  const { transactions } = useContext(transactionsContext);\r\n\r\n  const amounts = transactions.map((transaction) => transaction.amount);\r\n  const total = amounts.reduce((acca, amount) => acca + amount, 0).toFixed(2);\r\n\r\n  return (\r\n    <>\r\n      <h4>Your Balance</h4>\r\n      <h1>£{numberWithCommas(total)}</h1>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Balance;\r\n","import React from \"react\";\r\n\r\nconst Header = ({ children }) => {\r\n  return <h2>{children}</h2>;\r\n};\r\n\r\nexport default Header;\r\n","import React, { useContext } from 'react';\r\nimport { transactionsContext } from '../contexts/transactionsContext';\r\nimport { numberWithCommas } from '../utils/format';\r\n\r\nconst IncomeExpenses = () => {\r\n  const { transactions } = useContext(transactionsContext);\r\n\r\n  const amounts = transactions.map((transaction) => transaction.amount);\r\n\r\n  const income = amounts\r\n    .filter((amount) => amount > 0)\r\n    .reduce((acca, incomeAmount) => acca + incomeAmount, 0)\r\n    .toFixed(2);\r\n\r\n  const expense = amounts\r\n    .filter((amount) => amount < 0)\r\n    .reduce((acca, expenseAmount) => acca + expenseAmount, 0)\r\n    .toFixed(2);\r\n\r\n  return (\r\n    <div className=\"inc-exp-container\">\r\n      <div>\r\n        <h4>Income</h4>\r\n        <p className=\"money plus\">+£{numberWithCommas(income)}</p>\r\n      </div>\r\n      <div>\r\n        <h4>Expense</h4>\r\n        <p className=\"money minus\">-£{numberWithCommas(expense)}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IncomeExpenses;\r\n","import React, { useContext } from 'react';\r\nimport { transactionsContext } from '../contexts/transactionsContext';\r\nimport { numberWithCommas } from '../utils/format';\r\n\r\nconst Transaction = ({ transaction }) => {\r\n  const { deleteTransaction } = useContext(transactionsContext);\r\n  let { _id, description, amount } = transaction;\r\n  const sign = amount < 0 ? '-' : '+';\r\n  return (\r\n    <li className={amount < 0 ? 'minus' : 'plus'}>\r\n      {description}\r\n      <span>\r\n        {sign}£{numberWithCommas(Math.abs(amount))}\r\n      </span>\r\n      <button className=\"delete-btn\" onClick={() => deleteTransaction(_id)}>\r\n        x\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Transaction;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport { transactionsContext } from '../contexts/transactionsContext';\r\nimport Transaction from './Transaction';\r\n\r\nconst TransactionList = () => {\r\n  const { transactions, getTransactions } = useContext(transactionsContext);\r\n\r\n  useEffect(() => {\r\n    getTransactions();\r\n    //eslint-disable-next-line\r\n  }, []);\r\n  return (\r\n    <>\r\n      <h3>History</h3>\r\n      <ul className=\"list\">\r\n        {transactions.map((transaction) => (\r\n          <Transaction key={transaction._id} transaction={transaction} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TransactionList;\r\n","const transactionsReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'SET_ISLOADING':\r\n      return { ...state, isLoading: true };\r\n\r\n    case 'GET_TRANSACTIONS':\r\n      return { ...state, isLoading: false, transactions: action.payload };\r\n\r\n    case 'ADD_TRANSACTION':\r\n      return {\r\n        ...state,\r\n        transactions: [...state.transactions, action.payload],\r\n      };\r\n\r\n    case 'DELETE_TRANSACTION':\r\n      return {\r\n        ...state,\r\n        transactions: state.transactions.filter(\r\n          ({ _id }) => _id !== action.payload\r\n        ),\r\n      };\r\n\r\n    case 'TRANSACTIONS_ERR':\r\n      return { ...state, isLoading: false, errMsg: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default transactionsReducer;\r\n","import React, { useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport transactionsReducer from './transactionsReducer';\r\nimport { transactionsContext } from './transactionsContext';\r\n\r\nconst defaultState = {\r\n  isLoading: true,\r\n  transactions: [],\r\n  errMsg: '',\r\n};\r\n\r\nconst TransactionsProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(transactionsReducer, defaultState);\r\n\r\n  const getTransactions = async () => {\r\n    dispatch({ type: 'SET_ISLOADING' });\r\n    try {\r\n      const res = await axios.get('/api/v1/transactions');\r\n      let { data: transactions } = res.data;\r\n      dispatch({ type: 'GET_TRANSACTIONS', payload: transactions });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: 'TRANSACTION_ERROR',\r\n        payload: err.response.data.error,\r\n      });\r\n    }\r\n  };\r\n\r\n  const deleteTransaction = async (_id) => {\r\n    dispatch({ type: 'SET_ISLOADING' });\r\n    try {\r\n      let res = await axios.delete(`/api/v1/transactions/${_id}`);\r\n      res.status === 200 &&\r\n        dispatch({ type: 'DELETE_TRANSACTION', payload: _id });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: 'TRANSACTION_ERROR',\r\n        payload: err.response.data.error,\r\n      });\r\n    }\r\n  };\r\n\r\n  const addTransaction = async (transaction) => {\r\n    dispatch({ type: 'SET_ISLOADING' });\r\n    let config = {\r\n      'Content-Type': 'application/json',\r\n    };\r\n    try {\r\n      let res = await axios.post('/api/v1/transactions', transaction, config);\r\n      let { data: savedTransaction } = res.data;\r\n      dispatch({ type: 'ADD_TRANSACTION', payload: savedTransaction });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: 'TRANSACTION_ERROR',\r\n        payload: err.response.data.error,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <transactionsContext.Provider\r\n      value={{ ...state, getTransactions, deleteTransaction, addTransaction }}\r\n    >\r\n      {children}\r\n    </transactionsContext.Provider>\r\n  );\r\n};\r\n\r\nexport { TransactionsProvider };\r\n","import './App.css';\nimport AddTransaction from './components/AddTransaction';\nimport Balance from './components/Balance';\nimport Header from './components/Header';\nimport IncomeExpenses from './components/IncomeExpenses';\nimport TransactionList from './components/TransactionList';\nimport { TransactionsProvider } from './contexts/TransactionsProvider';\n\nfunction App() {\n  return (\n    <TransactionsProvider>\n      <Header>Expense Tracker</Header>\n      <div className=\"container\">\n        <Balance />\n        <IncomeExpenses />\n        <TransactionList />\n        <AddTransaction />\n      </div>\n    </TransactionsProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}